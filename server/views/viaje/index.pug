extends ../layout/index
block contenido
    main.container.mt-5
        //- Imagen principal con atribución
        .row.mb-4
            .col-12
                .imagen-viaje-detalle(style="position: relative; margin-bottom: 2rem;")
                    img.img-fluid(
                        src=viaje.imagen,
                        alt=viaje.imagenData ? viaje.imagenData.altDescription : viaje.titulo,
                        style=viaje.imagenData && viaje.imagenData.color ? `background-color: ${viaje.imagenData.color}; width: 100%; height: 500px; object-fit: cover; border-radius: 8px;` : 'width: 100%; height: 500px; object-fit: cover; border-radius: 8px;',
                        onerror="if(this.src!='/img/destinos_grecia.jpg'){this.src='/img/destinos_grecia.jpg'}"
                    )

                    //- Atribución del fotógrafo
                    if viaje.imagenData && viaje.imagenData.photographer !== 'Escápate Conmigo'
                        .image-credit-detalle(style="position: absolute; bottom: 15px; right: 15px; background: rgba(255,255,255,0.95); padding: 8px 12px; border-radius: 6px; font-size: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.2);")
                            small
                                | Foto por
                                a(href=viaje.imagenData.photographerUrl, target="_blank", rel="noopener noreferrer", style="color: #333; text-decoration: none; font-weight: 500;")
                                    = viaje.imagenData.photographer
                                |  en
                                a(href="https://unsplash.com", target="_blank", rel="noopener noreferrer", style="color: #333; text-decoration: none; font-weight: 500;") Unsplash

        //- Información del viaje
        .row
            .col-md-7
                h1 #{viaje.titulo}
                p= viaje.descripcion

                .detalles-viaje.mt-4
                    p
                        i.fas.fa-calendar-alt
                        |  Fecha Ida: #{viaje.fecha_ida}
                    p
                        i.fas.fa-calendar-alt
                        |  Fecha Vuelta: #{viaje.fecha_vuelta}
                    p
                        i.fas.fa-dollar-sign
                        |  Precio: #{viaje.precio}
                    p
                        i.fas.fa-users
                        |  Lugares Disponibles: #{viaje.disponibles}

            .col-md-5
                //- Galería adicional
                if viaje.galeria && viaje.galeria.length > 0
                    .galeria-adicional
                        h3 Más imágenes de este destino
                        .row-galeria(style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-top: 1rem;")
                            each imagen in viaje.galeria
                                .col-galeria
                                    img(
                                        src=imagen.urlSmall,
                                        alt=`Vista de ${viaje.titulo}`,
                                        loading="lazy",
                                        style="width: 100%; height: 150px; object-fit: cover; border-radius: 6px;"
                                    )
                                    if imagen.photographer
                                        small.text-muted(style="display: block; margin-top: 0.5rem; font-size: 10px;")
                                            | Por
                                            a(href=imagen.photographerUrl, target="_blank", rel="noopener noreferrer", style="color: #666; text-decoration: none;")
                                                = imagen.photographer
