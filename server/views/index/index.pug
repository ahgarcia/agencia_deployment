extends ../layout/index

block slider
    .slider(role="banner" aria-label="Portada")
        .slider__content.container
            em.aventura sueña
            h1.hero__title Viajes Sin Preocupaciones
            p.lead.hero__subtitle Planeamos cada detalle para que tu única tarea sea vivir el momento.
            .d-flex.flex-wrap.gap-3.mt-3
                a.btn.btn-success.btn-lg.hero-cta-primary(href="#viajes" aria-label="Explorar destinos disponibles")
                    i.fas.fa-compass.mr-2(aria-hidden="true")
                    span Explorar Destinos
                a.btn.btn-outline-turquoise.btn-lg.hero-cta-secondary(href="/nosotros" aria-label="Iniciar planificación de viaje")
                    i.fas.fa-route.mr-2(aria-hidden="true")
                    span Planifica tu Escape
            a.slider__scroll(href="#sobre-nosotros" aria-label="Sigue bajando")
                i.fas.fa-chevron-down(aria-hidden="true")

block contenido
    main.container.mt-5
        section#sobre-nosotros(role="region" aria-labelledby="sobre-nosotros-title")
            h2#sobre-nosotros-title.text-center.mb-5 Sobre Nosotros

            .row.align-items-center
                .col-md-6.order-md-1.order-2
                    p.lead.mb-3 Fundada por viajeros apasionados, nuestra agencia nació del deseo de compartir la magia de explorar el mundo.
                    p Somos expertos que han pisado cada destino, establecido relaciones con proveedores locales y probado cada experiencia que ofrecemos.
                    p.mb-0 Tu satisfacción es nuestro éxito: atención 24/7, transparencia total y precios justos. Sin sorpresas, solo momentos inolvidables.

                    .beneficios-grid.row.g-3.mt-4
                        .col-6.col-md-3
                            .beneficio-card.text-center.p-3
                                .beneficio-icon.mb-2
                                    i.fas.fa-compass(aria-hidden="true")
                                p.beneficio-text.mb-0 Asesoría personalizada

                        .col-6.col-md-3
                            .beneficio-card.text-center.p-3
                                .beneficio-icon.mb-2
                                    i.fas.fa-plane-departure(aria-hidden="true")
                                p.beneficio-text.mb-0 Mejores rutas

                        .col-6.col-md-3
                            .beneficio-card.text-center.p-3
                                .beneficio-icon.mb-2
                                    i.fas.fa-concierge-bell(aria-hidden="true")
                                p.beneficio-text.mb-0 Soporte 24/7

                        .col-6.col-md-3
                            .beneficio-card.text-center.p-3
                                .beneficio-icon.mb-2
                                    i.fas.fa-shield-alt(aria-hidden="true")
                                p.beneficio-text.mb-0 Reservas seguras

                    a.btn.btn-success.btn-lg.mt-4(href="/nosotros" aria-label="Conocer más sobre nuestra agencia")
                        i.fas.fa-arrow-right.mr-2(aria-hidden="true")
                        span Conoce Nuestra Historia

                .col-md-6.order-md-2.order-1.mb-4.mb-md-0
                    img.img-fluid.rounded-lg(
                        src="/img/inicio_nosotros.jpg"
                        alt="Terraza frente al mar con vista al océano"
                        loading="lazy"
                        decoding="async"
                    )

        h2#viajes.text-center.my-5 Próximos Viajes
        include ../layout/partials/viajes

    if viajeDescuento
        .descuento
            .container
                .row
                    .col-md-6
                        .contenido
                            h3 #{viajeDescuento.descuento_porcentaje}% de Descuento
                            p.titulo= viajeDescuento.titulo
                            p.fecha #{new Date(viajeDescuento.fecha_ida).toLocaleDateString('es-MX', { day: 'numeric', month: 'long', year: 'numeric' })} - #{new Date(viajeDescuento.fecha_vuelta).toLocaleDateString('es-MX', { day: 'numeric', month: 'long', year: 'numeric' })}
                            p.precio= viajeDescuento.precio
                            p ¡Ahorra #{viajeDescuento.descuento_porcentaje}%!
                            a.btn.btn-success.btn-lg(href=`/viajes/${viajeDescuento.id}` aria-label=`Ver detalles de ${viajeDescuento.titulo}`) Ver Detalles

    if otrosDescuentos && otrosDescuentos.length > 0
        section#ofertas-especiales(role="region" aria-labelledby="ofertas-title")
            .container.my-5
                h2#ofertas-title.ofertas-title.text-center.mb-3 Más Ofertas Especiales
                p.text-center.text-muted.lead.mb-5 Aprovecha estos descuentos exclusivos por tiempo limitado

                .row.justify-content-center
                    each viaje in otrosDescuentos
                        .col-12.col-sm-6.col-lg-4.mb-4
                            .card.oferta-card.shadow-sm.h-100
                                .oferta-imagen
                                    img.card-img-top(
                                        src=viaje.imagen
                                        alt=`Destino: ${viaje.titulo}`
                                        loading="lazy"
                                        decoding="async"
                                    )
                                    .oferta-badge
                                        span.badge.badge-danger #{viaje.descuento_porcentaje}% OFF

                                .card-body.oferta-card-body.d-flex.flex-column
                                    h5.oferta-viaje-titulo.mb-3= viaje.titulo

                                    p.oferta-fecha.text-muted.mb-3
                                        i.far.fa-calendar-alt.mr-2(aria-hidden="true")
                                        | #{new Date(viaje.fecha_ida).toLocaleDateString('es-MX', { day: 'numeric', month: 'short' })} - #{new Date(viaje.fecha_vuelta).toLocaleDateString('es-MX', { day: 'numeric', month: 'short', year: 'numeric' })}

                                    .oferta-precios.mb-3.mt-auto
                                        p.oferta-precio.text-center.mb-2= viaje.precio
                                        p.ahorro-text.text-success.text-center.mb-0.small
                                            i.fas.fa-tag.mr-1(aria-hidden="true")
                                            strong ¡Ahorra #{viaje.descuento_porcentaje}%!

                                    if viaje.disponibles && viaje.disponibles <= 5
                                        p.urgencia-text.text-danger.mb-3.text-center
                                            i.fas.fa-fire.mr-1(aria-hidden="true")
                                            strong ¡Solo #{viaje.disponibles} lugares!

                                    a.btn.oferta-btn.btn-block.py-3(href=`/viajes/${viaje.id}` aria-label=`Reservar ${viaje.titulo} con ${viaje.descuento_porcentaje}% descuento`)
                                        i.fas.fa-ticket-alt.mr-2(aria-hidden="true")
                                        span Reservar Ahora

    .container
        h2.text-center.my-5 Testimoniales
        include ../layout/partials/testimoniales